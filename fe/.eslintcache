[{"/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/index.tsx":"1","/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/reportWebVitals.ts":"2","/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/App.tsx":"3","/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/question/Question.tsx":"4","/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/question/QuestionCard.tsx":"5","/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/ask/Ask.tsx":"6"},{"size":500,"mtime":1610551018235,"results":"7","hashOfConfig":"8"},{"size":425,"mtime":1610524243570,"results":"9","hashOfConfig":"8"},{"size":783,"mtime":1610557126502,"results":"10","hashOfConfig":"8"},{"size":2397,"mtime":1610557000949,"results":"11","hashOfConfig":"8"},{"size":705,"mtime":1610544852541,"results":"12","hashOfConfig":"8"},{"size":2623,"mtime":1610553904267,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1etafy0",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"16"},"/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/index.tsx",[],["30","31"],"/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/reportWebVitals.ts",[],"/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/App.tsx",["32"],"import React from \"react\";\nimport Question from \"./question/Question\";\nimport \"antd/dist/antd.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Ask from \"./ask/Ask\";\nimport { Layout } from \"antd\";\nconst { Header, Content } = Layout;\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Layout>\n          <Header></Header>\n          <Content>\n            <Router basename=\"/question\">\n              <Switch>\n                <Route path=\"/ask\">\n                  <Ask />\n                </Route>\n                <Route path=\"/\" component={Question} />\n              </Switch>\n            </Router>\n          </Content>\n        </Layout>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/question/Question.tsx",[],"/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/question/QuestionCard.tsx",[],["33","34"],"/Users/zhangruobin/ZRB-DATA/space/project/go/show/fe/src/ask/Ask.tsx",["35","36"],"import React, { useEffect, useState } from \"react\";\nimport { Space } from \"antd\";\nimport { Form, Input, Button } from \"antd\";\nimport { UserOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { WsMsg } from \"../question/Question\";\n\n//{\"action\":\"create\", \"data\" : {\"name\":\"wangjie054\", \"question\":\"这个怎\"}}\ninterface SubmitMsg {\n  action: string;\n  data: { name: string; question: string };\n}\n\nconst Ask: React.FC<{}> = () => {\n  let ws: WebSocket;\n  useEffect(() => {\n    const url = window.location;\n    ws = new WebSocket(`ws://${url.hostname}:8081`);\n    ws.onmessage = async (evt) => {\n      const data: Blob = evt.data;\n      const d: WsMsg = await handleBlobData(data);\n      if (!d) {\n        return;\n      }\n      const fn = (actionList as any)[d.action];\n      fn && fn(d);\n    };\n    const actionList = {\n      broadcast: (v: WsMsg) => {},\n      getall: (v: WsMsg) => {},\n    };\n\n    const handleBlobData = async (b: Blob) => {\n      if (b.text) {\n        return await b\n          .text()\n          .then((v) => {\n            return JSON.parse(v);\n          })\n          .catch((r) => {\n            console.warn(r);\n          });\n      }\n    };\n  }, []);\n  const handleSubmit = function (name: string, question: string) {\n    const createReq: SubmitMsg = {\n      action: \"create\",\n      data: {\n        name: name,\n        question: question,\n      },\n    };\n    ws.send(JSON.stringify(createReq));\n  };\n  const onFinish = (v: any) => {\n    console.log(\"Received values of form: \", v);\n    handleSubmit(v.username, v.question);\n  };\n  return (\n    <Form name=\"normal_question\" className=\"submit-form\" onFinish={onFinish}>\n      <Space direction=\"vertical\" align=\"center\" style={{ width: \"100%\" }}>\n        <Form.Item\n          style={{ marginTop: \"40px\" }}\n          name=\"username\"\n          rules={[{ required: true, message: \"Please input your Username!\" }]}\n        >\n          <Input\n            prefix={<UserOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"Who are you\"\n          />\n        </Form.Item>\n        <Form.Item\n          name=\"question\"\n          rules={[{ required: true, message: \"Please input your Question!\" }]}\n        >\n          <Input\n            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n            placeholder=\"enter your question\"\n          />\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-form-button\"\n          >\n            提交问题\n          </Button>\n        </Form.Item>\n      </Space>\n    </Form>\n  );\n};\n\nexport default Ask;\n",{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":4,"column":50,"nodeType":"43","messageId":"44","endLine":4,"endColumn":54},{"ruleId":"37","replacedBy":"45"},{"ruleId":"39","replacedBy":"46"},{"ruleId":"41","severity":1,"message":"47","line":1,"column":28,"nodeType":"43","messageId":"44","endLine":1,"endColumn":36},{"ruleId":"48","severity":1,"message":"49","line":17,"column":10,"nodeType":"50","endLine":17,"endColumn":52},"no-native-reassign",["51"],"no-negated-in-lhs",["52"],"@typescript-eslint/no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar",["51"],["52"],"'useState' is defined but never used.","react-hooks/exhaustive-deps","Assignments to the 'ws' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression","no-global-assign","no-unsafe-negation"]