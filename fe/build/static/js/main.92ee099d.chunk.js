(this["webpackJsonpantd-demo-ts"]=this["webpackJsonpantd-demo-ts"]||[]).push([[0],{122:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n(0),r=n.n(c),s=n(25),i=n.n(s),o=(n(122),n(86)),u=n(35),j=n.n(u),l=n(48),b=n(112),f=n(199),p=n(111),d=n(201),x=n(206),h=n(207),m=f.a.Meta,O=function(e){var t=e.name,n=e.question,c=e.onShow;return Object(a.jsx)(f.a,{bordered:!0,actions:[Object(a.jsx)(x.a,{},"setting"),Object(a.jsx)(h.a,{onClick:c(t,n)},"like"),Object(a.jsx)(p.a,{type:"primary",shape:"circle",icon:Object(a.jsx)(h.a,{}),onClick:function(){c(t,n)}})],children:Object(a.jsx)(m,{avatar:Object(a.jsx)(d.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:t,description:n})})},v=n(203),y=n(204),g=n(205),w=n(87),k=n(88),q=function(e,t){var n={action:"control",data:{control:e}};t.readyState===t.OPEN&&t.send(JSON.stringify(n))},S=function(){var e=window.location,t=new WebSocket("ws://".concat(e.hostname,":8081")),n=Object(c.useState)(),r=Object(b.a)(n,2),s=r[0],i=r[1];function u(e,n){var a={action:"show",data:{name:e,question:n}};t.readyState===t.OPEN&&t.send(JSON.stringify(a))}Object(c.useEffect)((function(){t.onmessage=function(){var t=Object(l.a)(j.a.mark((function t(a){var c,r,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.data,t.next=3,n(c);case 3:if(r=t.sent){t.next=6;break}return t.abrupt("return");case 6:(s=e[r.action])&&s(r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.onopen=function(e){this.send(JSON.stringify({action:"getall"}))};var e={broadcast:function(e){i((function(t){var n=t;return{questions:[e.data].concat(Object(o.a)(n.questions))}}))},getall:function(e){var t=e;i((function(e){var n={questions:[]};return t.data.forEach((function(e){n.questions=[].concat(Object(o.a)(n.questions),[{name:e.name,question:e.desc}])})),n}))}},n=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.text){e.next=4;break}return e.next=3,t.text().then((function(e){return JSON.parse(e)})).catch((function(e){console.warn(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[]);var d=null===s||void 0===s?void 0:s.questions.map((function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(O,{name:e.name,question:e.question,onShow:u})," "]})})}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{type:"primary",shape:"circle",icon:Object(a.jsx)(y.a,{}),onClick:function(){q("p_up",t)}}),Object(a.jsx)(p.a,{type:"primary",shape:"circle",icon:Object(a.jsx)(g.a,{}),onClick:function(){q("p_down",t)}}),Object(a.jsx)(p.a,{type:"primary",shape:"circle",icon:Object(a.jsx)(w.a,{}),onClick:function(){q("p_left",t)}}),Object(a.jsx)(p.a,{type:"primary",shape:"circle",icon:Object(a.jsx)(k.a,{}),onClick:function(){q("p_right",t)}}),Object(a.jsx)(v.b,{direction:"vertical",style:{width:"100%"},children:d})]})},N=(n(124),n(110)),C=n(23),J=n(198),F=n(200),E=n(208),P=n(209),I=function(){var e;Object(c.useEffect)((function(){var t=window.location;(e=new WebSocket("ws://".concat(t.hostname,":8081"))).onmessage=function(){var e=Object(l.a)(j.a.mark((function e(t){var c,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.data,e.next=3,a(c);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:(s=n[r.action])&&s(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var n={broadcast:function(e){},getall:function(e){}},a=function(){var e=Object(l.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.text){e.next=4;break}return e.next=3,t.text().then((function(e){return JSON.parse(e)})).catch((function(e){console.warn(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[]);return Object(a.jsx)(J.a,{name:"normal_question",className:"submit-form",onFinish:function(t){console.log("Received values of form: ",t),function(t,n){var a={action:"create",data:{name:t,question:n}};e.send(JSON.stringify(a))}(t.username,t.question)},children:Object(a.jsxs)(v.b,{direction:"vertical",align:"center",style:{width:"100%"},children:[Object(a.jsx)(J.a.Item,{style:{marginTop:"40px"},name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(E.a,{className:"site-form-item-icon"}),placeholder:"Who are you"})}),Object(a.jsx)(J.a.Item,{name:"question",rules:[{required:!0,message:"Please input your Question!"}],children:Object(a.jsx)(F.a,{prefix:Object(a.jsx)(P.a,{className:"site-form-item-icon"}),placeholder:"enter your question"})}),Object(a.jsx)(J.a.Item,{children:Object(a.jsx)(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"\u63d0\u4ea4\u95ee\u9898"})})]})})},T=n(202),_=T.a.Header,A=T.a.Content;var L=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("header",{className:"App-header",children:Object(a.jsxs)(T.a,{children:[Object(a.jsx)(_,{}),Object(a.jsx)(A,{children:Object(a.jsx)(N.a,{basename:"/question",children:Object(a.jsxs)(C.c,{children:[Object(a.jsx)(C.a,{path:"/ask",children:Object(a.jsx)(I,{})}),Object(a.jsx)(C.a,{path:"/",component:S})]})})})]})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,210)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root")),W()}},[[196,1,2]]]);
//# sourceMappingURL=main.92ee099d.chunk.js.map